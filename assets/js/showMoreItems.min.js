/*!
 * showMoreItem.js Version:1.0.1
 * @copyright 2020 PeggyHsieh
 * @license MIT (https://github.com/peggy-hsieh/showMoreItems)
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function($){var ShowMoreItems=window.ShowMoreItems||{},ShowMoreItems=function(t,e){$(t).addClass("showMoreItemsList");var o=this,r={nowNum:1,startNum:1,afterNum:1,original:!1,moreText:"Show more",noMoreText:"No more",backMoreText:"Reset",responsive:""},n=$(t).data("showMoreItems")||{};o.defaults=$.extend({},r,e,n),o.options=$.extend({},r,e,n),o.registerBreakpoints(t),o.init(t)};ShowMoreItems.prototype.init=function(t){var e=this;return e.sum=$(t).children().length,e.runData(t,e),!1},ShowMoreItems.prototype.runData=function(o,r){var n=this;n.goOut=!1,$(o).children().hide(),$(o).next(".button-box").remove(),n.nowNum=r.options.nowNum-1,n.goNum=n.nowNum+r.options.startNum,n.sum<=r.options.startNum&&(n.goNum=n.sum,n.goOut=!0);for(var t=n.nowNum;t<n.goNum;t++)$(o).children().eq(t).show(),n.nowNum+=1;n.goOut||$(o).after('<div class="button-box"><button class="addListData">'+r.options.moreText+"</button></div>"),$(o).next().on("click",".addListData",function(t){n.goNum=n.nowNum+r.options.afterNum,n.sum<=n.goNum&&(n.goNum=n.sum,n.goOut=!0);for(var e=n.nowNum;e<n.goNum;e++)$(o).children().eq(e).show(),n.nowNum+=1;n.goOut&&r.options.original?$(this).text(r.options.backMoreText).addClass("original"):n.goOut&&$(this).text(r.options.noMoreText)}),$(o).next().on("click",".original",function(t){return $(this).removeClass("original"),n.reflesh($(this)),!1})},ShowMoreItems.prototype.reflesh=function(t){thisE=t.parent().prev(),t.remove(),this.registerBreakpoints(t),this.init(thisE)},ShowMoreItems.prototype.registerBreakpoints=function(t){var o=this;o.options.responsive&&(ResponsiveArr=o.options.responsive,ResponsiveArr=ResponsiveArr.sort(function(t,e){return t.breakpoint>e.breakpoint?-1:1}),o.options.responsive=ResponsiveArr,o.Oindex=-1,o.Owidth=$(window).width(),$.each(o.options.responsive,function(t,e){$(window).width()<=e.breakpoint&&(o.Oindex=t,e=e.settings,o.options=$.extend({},o.options,e))}),$(window).resize(function(){return run=!1,$(window).width()<o.Owidth&&(o.Owidth=$(window).width(),$.each(o.options.responsive,function(t,e){if(o.Owidth<=e.breakpoint&&o.Oindex<t)return o.Oindex=t,e=e.settings,o.options=$.extend({},o.options,o.defaults),o.options=$.extend({},o.options,e),run=!0,o.Oindex})),$(window).width()>o.Owidth&&(o.Owidth=$(window).width(),$.each(ResponsiveArr,function(t,e){if(o.Owidth>e.breakpoint&&o.Oindex>t-1)return o.Oindex=t-1,run=(-1!=o.Oindex?(e=ResponsiveArr[t-1].settings,o.options=$.extend({},o.options,o.defaults),o.options=$.extend({},o.options,e)):o.options=$.extend({},o.options,o.defaults),!0),o.Oindex})),1==run&&o.runData(t,o),!1}))},$.fn.showMoreItems=function(){for(var t,e=this,o=arguments[0],r=Array.prototype.slice.call(arguments,1),n=e.length,s=0;s<n;s++)if("object"==typeof o||void 0===o?e[s].showMoreItems=new ShowMoreItems(e[s],o):t=e[s].showMoreItems[o].apply(e[s].showMoreItems,r),void 0!==t)return t;return e},$(function(){var settings;$('[data-showMoreItems="true"]').length&&(selecter=$('[data-showMoreItems="true"]'),"true"==selecter.attr("data-showMoreItems")&&(settings={nowNum:1,getView:0,startNum:1,afterNum:1,original:!1,moreText:"Show more",noMoreText:"No more",backMoreText:"Reset",responsive:""},selecter.attr("data-nowNum")&&(settings.nowNum=parseInt(selecter.attr("data-nowNum"))),selecter.attr("data-startNum")&&(settings.startNum=parseInt(selecter.attr("data-startNum"))),selecter.attr("data-afterNum")&&(settings.afterNum=parseInt(selecter.attr("data-afterNum"))),selecter.attr("data-original")&&(settings.original=Boolean(selecter.attr("data-original"))),selecter.attr("data-moreText")&&(settings.moreText=selecter.attr("data-moreText")),selecter.attr("data-noMoreText")&&(settings.noMoreText=selecter.attr("data-noMoreText")),selecter.attr("data-backMoreText")&&(settings.backMoreText=selecter.attr("data-backMoreText")),selecter.attr("data-responsive")&&(settings.responsive=eval(selecter.attr("data-responsive")))),$('[data-showMoreItems="true"]').showMoreItems(settings))})});